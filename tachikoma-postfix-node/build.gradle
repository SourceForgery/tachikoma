apply plugin: 'com.moowork.node'
apply plugin: 'de.richsource.gradle.plugins.typescript'

import com.moowork.gradle.node.NodeExtension
import com.moowork.gradle.node.variant.VariantBuilder

node {
    download = true
    version = '9.4.0'
    npmVersion = '5.6.0'
}

String nodeExecutable() {
    NodeExtension nodeExt = NodeExtension.get(project)
    return new VariantBuilder(nodeExt).build().nodeExec
}

compileTypeScript {
    sourcemap = true
    compilerExecutable "${nodeExecutable()} node_modules/typescript/lib/tsc.js"
    dependsOn "npmInstall"
}

dependencies {
//    compile project(':tachikoma-backend-api-proto:tachikoma-backend-api-js')
}
